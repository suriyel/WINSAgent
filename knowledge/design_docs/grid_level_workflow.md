# 栅格级网络优化仿真分析流程

## 概述
栅格级分析以地理栅格为最小分析单元，适用于精确定位具体地理位置的网络问题。栅格级分析的结果包含经纬度坐标和用户关注的栅格级指标数据，不包含小区id。

## 适用场景
- 用户需要精确定位某个地理区域的信号质量问题
- 用户需要了解覆盖重叠情况和栅格粒度的信号分布
- 用户需要对比优化前后栅格级指标的空间分布变化

## 栅格级可用指标

### 根因分析指标（优化前）
| 指标名称 | 单位 | 说明 | 关联问题类型 |
|----------|------|------|-------------|
| RSRP(dBm) | dBm | 栅格点参考信号接收功率 | 弱覆盖 |
| SINR(dB) | dB | 栅格点信噪比 | 干扰 |
| RSRQ(dB) | dB | 栅格点参考信号接收质量 | 干扰 |
| 重叠覆盖度 | 个 | 栅格点可接收的小区数量 | 越区覆盖 |
| 下行速率(Mbps) | Mbps | 栅格点下行数据速率 | 速率/容量 |
| 上行速率(Mbps) | Mbps | 栅格点上行数据速率 | 速率/容量 |
| 覆盖电平(dBm) | dBm | 栅格点综合覆盖电平 | 弱覆盖 |

### 仿真结果指标（优化后）
| 指标名称 | 单位 | 说明 |
|----------|------|------|
| 仿真RSRP(dBm) | dBm | 优化后预测的栅格RSRP |
| 仿真SINR(dB) | dB | 优化后预测的栅格SINR |
| 仿真RSRQ(dB) | dB | 优化后预测的栅格RSRQ |
| 仿真重叠覆盖度 | 个 | 优化后预测的重叠覆盖度 |
| 仿真下行速率(Mbps) | Mbps | 优化后预测的下行速率 |
| 仿真上行速率(Mbps) | Mbps | 优化后预测的上行速率 |

## 栅格级分析流程

### 步骤1：术语检索
调用 search_terminology 工具，查询用户提及的问题类型（如"弱覆盖"、"干扰"等），获取相关指标定义和对应的栅格级指标名称。

### 步骤2：场景匹配
调用 match_scenario 工具，根据用户提供的区域名称和问题描述，匹配对应的数字孪生场景，获取 digitaltwinsId。

### 步骤3：栅格级根因分析
调用 query_root_cause_analysis 工具，参数设置：
- digitaltwins_id: 步骤2获取的场景ID
- level: "grid"
- indicators: 根据步骤1的术语检索结果，选择与用户问题相关的栅格级指标

### 步骤4：结果解读与优化建议
展示根因分析结果，解读关键发现（如哪些栅格点RSRP低于门限、哪些区域重叠覆盖度过高等）。
**必须**输出固定提示语：**"根因分析完成。是否需要对该场景进行优化仿真？"**

### 步骤5：优化仿真（用户确认后）
如用户确认需要优化，调用 query_simulation_results 工具，参数设置：
- digitaltwins_id: 同一场景ID
- level: "grid"
- indicators: 选择与根因分析对应的仿真指标（如根因查了RSRP，仿真就查仿真RSRP）

### 步骤6：优化效果对比
对比根因分析和仿真结果中同类指标的数值变化，总结优化方案在栅格级的预期改善效果。
