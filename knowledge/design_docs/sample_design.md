# 小区级网络优化仿真分析流程

## 概述
小区级分析以基站小区为最小分析单元，适用于定位具体问题小区和评估小区维度的网络性能。小区级分析的结果包含小区id、经纬度坐标和用户关注的小区级指标数据。

## 适用场景
- 用户询问某区域是否存在弱覆盖、干扰、容量等网络问题
- 用户需要了解特定区域基站小区的性能指标
- 用户需要对比优化前后小区级指标的变化

## 小区级可用指标

### 根因分析指标（优化前）
| 指标名称 | 单位 | 说明 | 关联问题类型 |
|----------|------|------|-------------|
| RSRP均值(dBm) | dBm | 参考信号接收功率均值 | 弱覆盖 |
| SINR均值(dB) | dB | 信噪比均值 | 干扰 |
| 下行PRB利用率(%) | % | 下行物理资源块利用率 | 容量/高负荷 |
| 上行PRB利用率(%) | % | 上行物理资源块利用率 | 容量/高负荷 |
| MR覆盖率(%) | % | 测量报告覆盖率 | 弱覆盖 |
| RRC连接成功率(%) | % | 无线资源控制连接成功率 | 接入 |
| 切换成功率(%) | % | 小区间切换成功率 | 切换 |
| 下行流量(GB) | GB | 下行数据总流量 | 容量/高负荷 |
| 用户数 | 个 | 小区接入用户数 | 容量/高负荷 |

### 仿真结果指标（优化后）
| 指标名称 | 单位 | 说明 |
|----------|------|------|
| 仿真RSRP均值(dBm) | dBm | 优化后预测的RSRP均值 |
| 仿真SINR均值(dB) | dB | 优化后预测的SINR均值 |
| 仿真下行速率(Mbps) | Mbps | 优化后预测的下行速率 |
| 仿真上行速率(Mbps) | Mbps | 优化后预测的上行速率 |
| 仿真覆盖率(%) | % | 优化后预测的覆盖率 |
| 仿真RRC连接成功率(%) | % | 优化后预测的RRC连接成功率 |

## 小区级分析流程

### 步骤1：术语检索
调用 search_terminology 工具，查询用户提及的问题类型（如"弱覆盖"、"干扰"等），获取相关指标定义和对应的小区级指标名称。

### 步骤2：场景匹配
调用 match_scenario 工具，根据用户提供的区域名称和问题描述，匹配对应的数字孪生场景，获取 digitaltwinsId。

### 步骤3：小区级根因分析
调用 query_root_cause_analysis 工具，参数设置：
- digitaltwins_id: 步骤2获取的场景ID
- level: "cell"
- indicators: 根据步骤1的术语检索结果，选择与用户问题相关的小区级指标

### 步骤4：结果解读与优化建议
展示根因分析结果，解读关键发现（如哪些小区RSRP低于门限、哪些小区PRB利用率过高等）。
**必须**输出固定提示语：**"根因分析完成。是否需要对该场景进行优化仿真？"**

### 步骤5：优化仿真（用户确认后）
如用户确认需要优化，调用 query_simulation_results 工具，参数设置：
- digitaltwins_id: 同一场景ID
- level: "cell"
- indicators: 选择与根因分析对应的仿真指标（如根因查了RSRP均值，仿真就查仿真RSRP均值）

### 步骤6：优化效果对比
对比根因分析和仿真结果，总结优化方案的预期改善效果。
